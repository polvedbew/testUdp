import org.apache.commons.codec.DecoderException;
import org.apache.commons.codec.binary.Hex;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.SocketException;

/**
 * ----------------------*    Norden Communication    *-------------------------
 * Created on 30/09/2022
 * R&D SCK
 * -----------------------------------------------------------------------------
 **/
public class Test {
    //4 door


  //  static String first="2420398e5000000000000000e7813819008102000d7e1e001e001e001e0001030303000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
  //  static String sec="2010c81a5100000000000000e781381900810200ffffffff";

  //  static String first="2420add75800000000000000e7813819008102000d7e1e001e001e001e0002030303000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";



  //  static String sec="2420398e5000000000000000e7813819008102000d7e1e001e001e001e0001030303000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
  //  static String sec="242040175200000000000000e7813819008102000d7e1e001e001e001e0003010303000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
  //  static String sec="242070955400000000000000e7813819008102000d7e1e001e001e001e0003030103000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
 //   static String sec="242027905600000000000000e7813819008102000d7e1e001e001e001e0003030301000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";


                //  static String sec="2040bbef2700000000000000e78138190081020001000000ffffffffffffffff01000000";
    //                2040b____b0b2500000000000000____e7813819____0081020001000000ffffffffffffffff0____0000000
    //                2040b____bef2700000000000000____e7813819____0081020001000000ffffffffffffffff0____1000000
    //                2040b____ce32900000000000000____e7813819____0081020001000000ffffffffffffffff0____2000000
    //                2040b____c072b00000000000000____e7813819____0081020001000000ffffffffffffffff0____3000000


   // static String sec="2420add75800000000000000e7813819008102000d7e1e001e001e001e0002030303000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
  //  static String sec="242036a65a00000000000000e7813819008102000d7e1e001e001e001e0003020303000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
 //   static String sec="242067075c00000000000000e7813819008102000d7e1e001e001e001e0003030203000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
 //   static String sec="24204b235e00000000000000e7813819008102000d7e1e001e001e001e0003030302000000000102030400000000ff00ff000000000008fa006400ff55011e00007e1e1effffffffffffffffffffffff000432ffffffffffffffffffffff8494ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0a80000ffff0000c0a8000060ea000000000000010027001e00020027001e00040027001e0010000038b80b0a00000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff49ee4aee000000000000ffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";

 private static final String four="e7813819";


    public static void main(String args[])  {
        String sec=getStatusString(0,four);

        try {
            DatagramSocket socket = new DatagramSocket(60000);

            char[] chars = sec.toCharArray();
            //StringBuilder hex = new StringBuilder();
          //  for (char ch : chars) {
              //  hex.append(Integer.toHexString((int) ch));
         //   }

            byte[] bytes = Hex.decodeHex(sec.toCharArray());
           // System.out.println(new String(bytes, "UTF-8"));

            DatagramPacket packet = new DatagramPacket(bytes,bytes.length);
            packet.setAddress(InetAddress.getByName("255.255.255.255"));
            packet.setPort(60000);
            socket.send(packet);

            //while(true){
                socket.receive(packet);
            try {
                System.out.println(Hex.encodeHex(packet.getData(),false));
                System.out.println(packet.getData().toString());
            }catch (Exception e){
                //
            }
           // packet.setAddress(InetAddress.getByName("255.255.255.255"));
           // bytes = Hex.decodeHex(sec.toCharArray());
         //   packet = new DatagramPacket(bytes,bytes.length);

         //   socket.send(packet);
            try {
           //     System.out.println(packet.getData().toString());
            }catch (Exception e){
                //
            }
          //  }


        } catch (SocketException e) {
            throw new RuntimeException(e);
        } catch (IOException e) {
            throw new RuntimeException(e);
        } catch (DecoderException e) {
            throw new RuntimeException(e);
        }

    }

    private static String getStatusString(int door, String serial){
        return "2020145ddd00000000000000"+serial+"00000200ffffffff0f000000";

    }

//2020145ddd000000000000004aec570700000200ffffffff0f000000




        private static String getDoorOpenString(int door, String serial){
        String ds="";

        switch (door){
            case 0:ds="b0b25";break;
            case 1:ds="bef27";break;
            case 2:ds="ce329";break;
            case 3:ds="c072b";break;
        }

        return "2040b"+ds+"00000000000000"+serial+"0081020001000000ffffffffffffffff0"+door+"000000";
    }


}

//door open
//                2040b____b0b25____00000000000000____e7813819____0081020001000000ffffffffffffffff0____0000000
//                2040b____bef27____00000000000000____e7813819____0081020001000000ffffffffffffffff0____1000000
//                2040b____ce329____00000000000000____e7813819____0081020001000000ffffffffffffffff0____2000000
//                2040b____c072b____00000000000000____e7813819____0081020001000000ffffffffffffffff0____3000000
//monitor
//                20201____45ddd____00000000000000____4aec5707____00000200ffffffff0____f000000